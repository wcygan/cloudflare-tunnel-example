# Cloudflare Tunnel configuration
# This file defines how cloudflared routes traffic to your services

# Tunnel credentials will be mounted from ./credentials/
tunnel: 3f883609-705a-4854-99b3-4b3f5623c18f
credentials-file: /etc/cloudflared/credentials/3f883609-705a-4854-99b3-4b3f5623c18f.json

# Ingress rules define how to route traffic
ingress:
  # Main application route - handles both / and /health
  - hostname: halibut.cc
    service: http://app:8080
    originRequest:
      # Disable TLS verification for internal communication
      noTLSVerify: true
      # Set timeout for requests
      connectTimeout: 30s
      # Keep connections alive
      keepAliveConnections: 10
      keepAliveTimeout: 30s
  
  # Catch-all rule (required)
  - service: http_status:404